# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Board {
  """하위 게시판 목록"""
  childBoards: [Board!]!
  createdAt: DateTime!
  description: String
  id: Int!
  name: String!

  """부모 게시판"""
  parentBoard: Board
  parentId: Int

  """게시글 수"""
  postCount: Int!
  requiredRole: UserRole!
  slug: String!
  updatedAt: DateTime!
}

input BoardFilterInput {
  parentId: Int
  searchKeyword: String
  slug: String
  userRole: UserRole
}

input CreatePostInput {
  authorId: Int!
  boardId: Int!
  content: String!
  title: String!
}

input CreateUserInput {
  email: String!
  name: String!
  password: String!
  userRole: UserRole! = USER
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  """게시글 작성"""
  createPost(input: CreatePostInput!): Post!

  """회원가입"""
  createUser(input: CreateUserInput!): User!

  """게시글 삭제"""
  deletePost(id: Int!): Post!

  """회원 탈퇴 (Soft Delete)"""
  deleteUser(id: Int!): User!

  """로그인"""
  login(input: LoginInput!): User!

  """게시글 수정"""
  updatePost(input: UpdatePostInput!): Post!

  """사용자 정보 수정"""
  updateUser(input: UpdateUserInput!): User!
}

type Post {
  """작성자 (탈퇴 시 null)"""
  author: User
  authorId: Int

  """게시판"""
  board: Board!
  boardId: Int!

  """댓글 수 (향후 구현)"""
  commentCount: Int!
  content: String!
  createdAt: DateTime!
  id: Int!

  """현재 사용자가 스크랩했는지 여부"""
  isScrapped: Boolean!
  scrapCount: Int!
  title: String!
  updatedAt: DateTime!
  viewCount: Int!
}

input PostFilterInput {
  authorId: Int
  boardId: Int
  minScrapCount: Int
  minViewCount: Int
  searchKeyword: String
  skip: Int = 0
  take: Int = 20
}

type Query {
  """게시판 단건 조회 (ID)"""
  board(id: Int!): Board!

  """게시판 단건 조회 (Slug)"""
  boardBySlug(slug: String!): Board!

  """게시판 목록 (필터링)"""
  boards(filter: BoardFilterInput): [Board!]!

  """게시글 상세 조회 (조회수 자동 증가)"""
  post(id: Int!): Post!

  """게시글 목록 (필터링 + 페이지네이션)"""
  posts(filter: PostFilterInput): [Post!]!

  """사용자 단건 조회"""
  user(id: Int!): User!

  """활성 사용자 목록"""
  users: [User!]!
}

input UpdatePostInput {
  boardId: Int
  content: String
  id: Int!
  title: String
}

input UpdateUserInput {
  id: Int!
  name: String
}

type User {
  createdAt: DateTime!
  email: String!
  id: Int!
  name: String!
  updatedAt: DateTime!
  userRole: UserRole!
}

enum UserRole {
  ADMIN
  USER
}